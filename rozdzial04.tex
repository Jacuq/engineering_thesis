\chapter{Projekt aplikacji}

\section{Architektura systemu}

Aplikacja bazuje na REST API - komunikacja pomiêdzy aplikacj¹ frontendow¹ i backendow¹ odbywa siê w sposób przedstawiony na rysunku \ref{fig:restArchitecture}. Aplikacja kliencka wysy³a zapytania HTTP na odpowiednie URI, a w odpowiedzi otrzymuje dane w formacie JSON. 
\begin{figure}[h]
 \centering
 \includegraphics[width=\textwidth]{rys04/RestArchi.png}
 \caption{Architektura komunikacji w systemie opartym na REST API\cite{restAPI}}
 \label{fig:restArchitecture}
\end{figure}
Typowy sposób tworzenia endpointów w REST API to nazywanie endpointów nazwami kolekcji, a nastêpnie uszczegó³awianie zapytania w kolejnych czêœciach adresu\cite{restApiStackOverflow}. Przyk³adowe endpointy w REST API powinny wygl¹daæ nastêpuj¹co: 
\begin{description}
 \item [API/people] - endpoint zwracaj¹cy zawartoœæ kolekcji ``people''
 \item [API/people/:id] - endpoint zwracaj¹cy element kolekcji ``people'' o zadanym id
 \item [API/pepole/:id/name] - endpoint zwracaj¹cy wartoœæ pola ``name'' elemntu kolekcji ``people'' o zadanym id
\end{description}

Rozwi¹zanie REST API pozwala na ³atwe przesy³anie informacji o potrzebnych obiektach, takich jak skale czy akordy - JSON nie ogranicza wielkoœci wiadomoœci czy liczby elementów, wiêc takie obiekty œwietnie nadaj¹ siê do przekazywania tablic o nieznanych z góry rozmiarach. REST API pozwala równie¿ w prosty sposób zaimplementowaæ mechanizmy obs³ugi b³êdów poprzez do³¹czanie do przekazywanego obiektu statusów HTTP, które opisuj¹ efekt zapytania czy nawet dodatkowej wiadomoœci opisuj¹cej b³¹d w dok³adniejszy sposób. \\
Kolejn¹ zalet¹ stosowania tego podejœcia jest jego skalowalnoœæ. Ka¿da funkcjonalnoœæ jest przypisana pod osobny adres, wiêc ³atwo dodawaæ nowe poprzez tworzenie kolejnych endpointów. \\

\section{Architektura aplikacji klienta}

Korzystaj¹c z mo¿liwoœci oferowanych przez framework Angular zdecydowano siê rozbiæ aplikacjê na mniejsze elementy - charakterstyczne dla tej biblioteki komponenty oraz serwisy. Ka¿da podstrona sk³ada siê z odpowiednich, po³¹czonych ze sob¹ komponentów. Takie podejœcie pozwala na wielokrotne u¿ywanie tego samego kodu - ten sam komponent mo¿na wykorzystaæ w kilku miejsach na stronie lub na wielu ró¿nych podstronach. Pozwala ono równie¿ na generowanie wielu podobnych podstron poprzez zamianê pojedynczych komponentów. \\
\begin{figure}[h]
 \centering
 \includegraphics[width=\textwidth]{rys04/komponenty.png}
 \caption{Diagram podstrony z wirtualnym instrumentem z wyró¿nieniem komponentów i zale¿noœci miêdzy nimi}
 \label{fig:components}
\end{figure}
Diagram \ref{fig:components} przedstawia schemat jednej z podstron w aplikacji - podstrony zawieraj¹cej wirtualny instrument. Jak widaæ sam wirtualny instrument jest osobnym komponentem, co pozwala na stworzenie czêœci aplikacji dedykowanej dla gitary akustycznej oraz czêœci aplikacji dedykowanej dla gitary basowej, a potencjalnie równie¿ dla dowolnych innych instrumentów. W tym celu nale¿y jedynie zmieniæ komponent implementuj¹cy instrument. \\ 
Warto równie¿ zwróciæ uwagê, na to, ¿e oprócz widocznych na diagramie mniejszych komponentów, pojedynczy komponent mo¿e zawieraæ w sobie serwisy. Pozwalaj¹ one m.in. na pobieranie danych z API czy dostêp do zasobów lokalnych serwera.  






